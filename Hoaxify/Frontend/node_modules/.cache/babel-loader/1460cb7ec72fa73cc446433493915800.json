{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Enes\\\\frontend\\\\src\\\\pages\\\\LoginPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport Input from '../components/Input';\nimport { useTranslation } from 'react-i18next';\nimport ButtonWithProgress from '../components/ButtonWithProgress';\nimport { useApiProgress } from '../shared/ApiProgress';\nimport { useDispatch } from 'react-redux';\nimport { loginHandler } from '../redux/authActions';\n\nconst LoginPage = props => {\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    setError(undefined);\n  }, [username, password]);\n\n  const onClickLogin = async event => {\n    event.preventDefault();\n    const creds = {\n      username,\n      password\n    };\n    const {\n      history\n    } = props;\n    const {\n      push\n    } = history;\n    setError(undefined);\n\n    try {\n      await dispatch(loginHandler(creds));\n      push('/');\n    } catch (apiError) {\n      setError(apiError.response.data.message);\n    }\n  };\n\n  const {\n    t\n  } = useTranslation();\n  const pendingApiCall = useApiProgress('post', '/api/1.0/auth');\n  const buttonEnabled = username && password;\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, t('Login')), React.createElement(Input, {\n    label: t('Username'),\n    onChange: event => setUsername(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(Input, {\n    label: t('Password'),\n    type: \"password\",\n    onChange: event => setPassword(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), error && React.createElement(\"div\", {\n    className: \"alert alert-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, error), React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(ButtonWithProgress, {\n    onClick: onClickLogin,\n    disabled: !buttonEnabled || pendingApiCall,\n    pendingApiCall: pendingApiCall,\n    text: t('Login'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }))));\n};\n\nexport default LoginPage;","map":{"version":3,"sources":["C:/Users/Enes/frontend/src/pages/LoginPage.js"],"names":["React","useState","useEffect","Input","useTranslation","ButtonWithProgress","useApiProgress","useDispatch","loginHandler","LoginPage","props","username","setUsername","password","setPassword","error","setError","dispatch","undefined","onClickLogin","event","preventDefault","creds","history","push","apiError","response","data","message","t","pendingApiCall","buttonEnabled","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Input from '../components/Input';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ButtonWithProgress from '../components/ButtonWithProgress';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginHandler } from '../redux/authActions';\r\n\r\nconst LoginPage = props => {\r\n  const [username, setUsername] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setError(undefined);\r\n  }, [username, password]);\r\n\r\n  const onClickLogin = async event => {\r\n    event.preventDefault();\r\n    const creds = {\r\n      username,\r\n      password\r\n    };\r\n\r\n    const { history } = props;\r\n    const { push } = history;\r\n\r\n    setError(undefined);\r\n    try {\r\n      await dispatch(loginHandler(creds));\r\n      push('/');\r\n    } catch (apiError) {\r\n      setError(apiError.response.data.message);\r\n    }\r\n  };\r\n\r\n  const { t } = useTranslation();\r\n\r\n  const pendingApiCall = useApiProgress('post', '/api/1.0/auth');\r\n\r\n  const buttonEnabled = username && password;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form>\r\n        <h1 className=\"text-center\">{t('Login')}</h1>\r\n        <Input label={t('Username')} onChange={event => setUsername(event.target.value)} />\r\n        <Input label={t('Password')} type=\"password\" onChange={event => setPassword(event.target.value)} />\r\n        {error && <div className=\"alert alert-danger\">{error}</div>}\r\n        <div className=\"text-center\">\r\n          <ButtonWithProgress onClick={onClickLogin} disabled={!buttonEnabled || pendingApiCall} pendingApiCall={pendingApiCall} text={t('Login')} />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"]},"metadata":{},"sourceType":"module"}