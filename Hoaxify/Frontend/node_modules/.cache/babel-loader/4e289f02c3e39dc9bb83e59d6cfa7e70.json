{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Enes\\\\frontend\\\\src\\\\components\\\\HoaxView.js\";\nimport React, { useState } from 'react';\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\nimport { Link } from 'react-router-dom';\nimport { format } from 'timeago.js';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { deleteHoax } from '../api/apiCalls';\nimport Modal from './Modal';\nimport { useApiProgress } from '../shared/ApiProgress';\n\nconst HoaxView = props => {\n  const loggedInUser = useSelector(store => store.username);\n  const {\n    hoax,\n    onDeleteHoax\n  } = props;\n  const {\n    user,\n    content,\n    timestamp,\n    fileAttachment,\n    id\n  } = hoax;\n  const {\n    username,\n    displayName,\n    image\n  } = user;\n  const [modalVisible, setModalVisible] = useState(false);\n  const pendingApiCall = useApiProgress('delete', `/api/1.0/hoaxes/${id}`, true);\n  const {\n    t,\n    i18n\n  } = useTranslation();\n\n  const onClickDelete = async () => {\n    await deleteHoax(id);\n    onDeleteHoax(id);\n  };\n\n  const onClickCancel = () => {\n    setModalVisible(false);\n  };\n\n  const formatted = format(timestamp, i18n.language);\n  const ownedByLoggedInUser = loggedInUser === username;\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"card p-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"d-flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(ProfileImageWithDefault, {\n    image: image,\n    width: \"32\",\n    height: \"32\",\n    className: \"rounded-circle m-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"flex-fill m-auto pl-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: `/user/${username}`,\n    className: \"text-dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, displayName, \"@\", username), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \" - \"), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, formatted))), ownedByLoggedInUser && React.createElement(\"button\", {\n    className: \"btn btn-delete-link btn-sm\",\n    onClick: () => setModalVisible(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"material-icons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"delete_outline\"))), React.createElement(\"div\", {\n    className: \"pl-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, content), fileAttachment && React.createElement(\"div\", {\n    className: \"pl-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, fileAttachment.fileType.startsWith('image') && React.createElement(\"img\", {\n    className: \"img-fluid\",\n    src: 'images/attachments/' + fileAttachment.name,\n    alt: content,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), !fileAttachment.fileType.startsWith('image') && React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Hoax has unknown attachment\"))), React.createElement(Modal, {\n    visible: modalVisible,\n    title: t('Delete Hoax'),\n    onClickCancel: onClickCancel,\n    onClickOk: onClickDelete,\n    message: React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, t('Are you sure to delete hoax?'))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, content)),\n    pendingApiCall: pendingApiCall,\n    okButton: t('Delete Hoax'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }));\n};\n\nexport default HoaxView;","map":{"version":3,"sources":["C:/Users/Enes/frontend/src/components/HoaxView.js"],"names":["React","useState","ProfileImageWithDefault","Link","format","useTranslation","useSelector","deleteHoax","Modal","useApiProgress","HoaxView","props","loggedInUser","store","username","hoax","onDeleteHoax","user","content","timestamp","fileAttachment","id","displayName","image","modalVisible","setModalVisible","pendingApiCall","t","i18n","onClickDelete","onClickCancel","formatted","language","ownedByLoggedInUser","fileType","startsWith","name"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport ProfileImageWithDefault from './ProfileImageWithDefault';\r\nimport { Link } from 'react-router-dom';\r\nimport { format } from 'timeago.js';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useSelector } from 'react-redux';\r\nimport { deleteHoax } from '../api/apiCalls';\r\nimport Modal from './Modal';\r\nimport { useApiProgress } from '../shared/ApiProgress';\r\n\r\nconst HoaxView = props => {\r\n  const loggedInUser = useSelector(store => store.username);\r\n  const { hoax, onDeleteHoax } = props;\r\n  const { user, content, timestamp, fileAttachment, id } = hoax;\r\n  const { username, displayName, image } = user;\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n\r\n  const pendingApiCall = useApiProgress('delete', `/api/1.0/hoaxes/${id}`, true);\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const onClickDelete = async () => {\r\n    await deleteHoax(id);\r\n    onDeleteHoax(id);\r\n  };\r\n\r\n  const onClickCancel = () => {\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const formatted = format(timestamp, i18n.language);\r\n\r\n  const ownedByLoggedInUser = loggedInUser === username;\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card p-1\">\r\n        <div className=\"d-flex\">\r\n          <ProfileImageWithDefault image={image} width=\"32\" height=\"32\" className=\"rounded-circle m-1\" />\r\n          <div className=\"flex-fill m-auto pl-2\">\r\n            <Link to={`/user/${username}`} className=\"text-dark\">\r\n              <h6 className=\"d-inline\">\r\n                {displayName}@{username}\r\n              </h6>\r\n              <span> - </span>\r\n              <span>{formatted}</span>\r\n            </Link>\r\n          </div>\r\n          {ownedByLoggedInUser && (\r\n            <button className=\"btn btn-delete-link btn-sm\" onClick={() => setModalVisible(true)}>\r\n              <i className=\"material-icons\">delete_outline</i>\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"pl-5\">{content}</div>\r\n        {fileAttachment && (\r\n          <div className=\"pl-5\">\r\n            {fileAttachment.fileType.startsWith('image') && (\r\n              <img className=\"img-fluid\" src={'images/attachments/' + fileAttachment.name} alt={content} />\r\n            )}\r\n            {!fileAttachment.fileType.startsWith('image') && <strong>Hoax has unknown attachment</strong>}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Modal\r\n        visible={modalVisible}\r\n        title={t('Delete Hoax')}\r\n        onClickCancel={onClickCancel}\r\n        onClickOk={onClickDelete}\r\n        message={\r\n          <div>\r\n            <div>\r\n              <strong>{t('Are you sure to delete hoax?')}</strong>\r\n            </div>\r\n            <span>{content}</span>\r\n          </div>\r\n        }\r\n        pendingApiCall={pendingApiCall}\r\n        okButton={t('Delete Hoax')}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HoaxView;\r\n"]},"metadata":{},"sourceType":"module"}