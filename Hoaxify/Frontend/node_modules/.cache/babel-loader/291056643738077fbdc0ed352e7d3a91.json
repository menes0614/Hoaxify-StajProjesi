{"ast":null,"code":"import * as ACTIONS from './Constants';\nimport { login, signup, logout } from '../api/apiCalls';\nexport const logoutSuccess = () => {\n  return async function (dispatch) {\n    try {\n      await logout();\n    } catch (err) {}\n\n    dispatch({\n      type: ACTIONS.LOGOUT_SUCCESS\n    });\n  };\n};\nexport const loginSuccess = authState => {\n  return {\n    type: ACTIONS.LOGIN_SUCCESS,\n    payload: authState\n  };\n};\nexport const updateSuccess = ({\n  displayName,\n  image\n}) => {\n  return {\n    type: ACTIONS.UPDATE_SUCCESS,\n    payload: {\n      displayName,\n      image\n    }\n  };\n};\nexport const loginHandler = credentials => {\n  return async function (dispatch) {\n    const response = await login(credentials);\n    const authState = { ...response.data.user,\n      password: credentials.password,\n      token: response.data.token\n    };\n    dispatch(loginSuccess(authState));\n    return response;\n  };\n};\nexport const signupHandler = user => {\n  return async function (dispatch) {\n    const response = await signup(user);\n    await dispatch(loginHandler(user));\n    return response;\n  };\n};","map":{"version":3,"sources":["C:/Users/Enes/frontend/src/redux/authActions.js"],"names":["ACTIONS","login","signup","logout","logoutSuccess","dispatch","err","type","LOGOUT_SUCCESS","loginSuccess","authState","LOGIN_SUCCESS","payload","updateSuccess","displayName","image","UPDATE_SUCCESS","loginHandler","credentials","response","data","user","password","token","signupHandler"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,aAAzB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,MAAxB,QAAsC,iBAAtC;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,SAAO,gBAAeC,QAAf,EAAwB;AAC7B,QAAI;AACF,YAAMF,MAAM,EAAZ;AACD,KAFD,CAEE,OAAOG,GAAP,EAAW,CAEZ;;AACDD,IAAAA,QAAQ,CAAC;AACPE,MAAAA,IAAI,EAAEP,OAAO,CAACQ;AADP,KAAD,CAAR;AAGD,GATD;AAUD,CAXM;AAaP,OAAO,MAAMC,YAAY,GAAGC,SAAS,IAAI;AACvC,SAAO;AACLH,IAAAA,IAAI,EAAEP,OAAO,CAACW,aADT;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,aAAa,GAAG,CAAC;AAAEC,EAAAA,WAAF;AAAeC,EAAAA;AAAf,CAAD,KAA4B;AACvD,SAAO;AACLR,IAAAA,IAAI,EAAEP,OAAO,CAACgB,cADT;AAELJ,IAAAA,OAAO,EAAE;AACPE,MAAAA,WADO;AAEPC,MAAAA;AAFO;AAFJ,GAAP;AAOD,CARM;AAUP,OAAO,MAAME,YAAY,GAAGC,WAAW,IAAI;AACzC,SAAO,gBAAeb,QAAf,EAAyB;AAC9B,UAAMc,QAAQ,GAAG,MAAMlB,KAAK,CAACiB,WAAD,CAA5B;AACA,UAAMR,SAAS,GAAG,EAChB,GAAGS,QAAQ,CAACC,IAAT,CAAcC,IADD;AAEhBC,MAAAA,QAAQ,EAAEJ,WAAW,CAACI,QAFN;AAGhBC,MAAAA,KAAK,EAAEJ,QAAQ,CAACC,IAAT,CAAcG;AAHL,KAAlB;AAKAlB,IAAAA,QAAQ,CAACI,YAAY,CAACC,SAAD,CAAb,CAAR;AACA,WAAOS,QAAP;AACD,GATD;AAUD,CAXM;AAaP,OAAO,MAAMK,aAAa,GAAGH,IAAI,IAAI;AACnC,SAAO,gBAAehB,QAAf,EAAyB;AAC9B,UAAMc,QAAQ,GAAG,MAAMjB,MAAM,CAACmB,IAAD,CAA7B;AACA,UAAMhB,QAAQ,CAACY,YAAY,CAACI,IAAD,CAAb,CAAd;AACA,WAAOF,QAAP;AACD,GAJD;AAKD,CANM","sourcesContent":["import * as ACTIONS from './Constants';\r\nimport { login, signup, logout } from '../api/apiCalls';\r\n\r\nexport const logoutSuccess = () => {\r\n  return async function(dispatch){\r\n    try {\r\n      await logout();\r\n    } catch (err){\r\n\r\n    }\r\n    dispatch({\r\n      type: ACTIONS.LOGOUT_SUCCESS\r\n    })\r\n  }\r\n};\r\n\r\nexport const loginSuccess = authState => {\r\n  return {\r\n    type: ACTIONS.LOGIN_SUCCESS,\r\n    payload: authState\r\n  };\r\n};\r\n\r\nexport const updateSuccess = ({ displayName, image }) => {\r\n  return {\r\n    type: ACTIONS.UPDATE_SUCCESS,\r\n    payload: {\r\n      displayName,\r\n      image\r\n    }\r\n  };\r\n};\r\n\r\nexport const loginHandler = credentials => {\r\n  return async function(dispatch) {\r\n    const response = await login(credentials);\r\n    const authState = {\r\n      ...response.data.user,\r\n      password: credentials.password,\r\n      token: response.data.token\r\n    };\r\n    dispatch(loginSuccess(authState));\r\n    return response;\r\n  };\r\n};\r\n\r\nexport const signupHandler = user => {\r\n  return async function(dispatch) {\r\n    const response = await signup(user);\r\n    await dispatch(loginHandler(user));\r\n    return response;\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}